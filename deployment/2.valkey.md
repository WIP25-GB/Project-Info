## ⚙️ Chapter 2: Valkey Instance (ElastiCache Redis – Non-Clustered)

### 2.1 Create a Security Group
We create a secuirty group to allows us control what traffic is sent in and out of the valkey instance.

1. Log in to the [AWS Console](https://console.aws.amazon.com/).

2. Navigate to the **EC2** service.

3. In the left menu, click **Security Groups**.

4. Click **Create security group**.

5. Name the security group

    ```
    ratingo-valkey-sg
    ```

    Add a description (optional), e.g.:

    ```
    Security group for ratingo valkey instance
    ```
6. Click **Create security group**

7. After creating a secuirty group for lambda in chapter 5, return to this secuiry group and add an inbound rule
    * Type: Custom TCP
    * Port range: 6379
    * Source: Custom
    * Select the secuiry group for lambda from the list
    * Save rule

### 2.2 Create a Valkey Instance

We're creating a **managed Valkey instance on AWS using Amazon ElastiCache for Redis**. This instance acts as a fast, in-memory data store to cache and retrieve movie ratings efficiently.

1. **Go to the AWS ElastiCache Console**:
   [https://console.aws.amazon.com/elasticache](https://console.aws.amazon.com/elasticache)

2. **Click**: **Get Started** → **Valkey**

3. **Choose Deployment Type**:
   * Keep **Serverless** and **New cache**

4. Expand **Default settings** and choose **customize default settings**
    * choose the VPC id created for this project
    * choose the private subnets created in the vpc chapter 
    * On **Selected security groups**, select the valkey sg created in **step 2.1**

4. Create valkey instance